<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0,minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">
<title>native toast功能调用</title>
<style>
*{margin:0; padding:0;}
body{background-color:#ccc;}
body{font-size:16px; color:#ff0000;}
.box{padding:50px; text-align:center;}
.btn-a{display:inline-block; padding:10px; border:2px solid #ff0000; border-radius:10px;}
</style>
</head>
<body>
<div class="box">
	<span id="calltoast" class="btn-a">h5调用native toast111</span>
</div>
成功执行回调后返回的reponsedata：<div id="msg"></div>
成功执行回调后返回的原始数据：<div id="msg2"></div>
参数3：<div id="msg3"></div>
参数4：<div id="msg4"></div>
参数5：<div id="msg5"></div>
参数6：<div id="msg6"></div>
参数7：<div id="msg7"></div>
参数age：<div id="msg8"></div>
<script>
var str = '{"name":"huangxiaojian","age":"23"}';
var kkz=JSON.parse(str);
var age=kkz.age;
document.getElementById('msg8').innerHTML=age;
console.log(window)
//console.log(window.Vcredit)
//console.log(window.callback_functions);
function ready(callback) {
  // 如果Vcredit已经注入则直接调用
  if (window.Vcredit) {
	console.log("========执行分支1========");
    callback && callback();
  } else {
   console.log("========执行分支2========");
    // 如果没有注入则监听注入的事件
    document.addEventListener('VcreditReady', callback, false);
  }
}
document.getElementById('msg7').innerHTML=navigator.userAgent;
ready(function(){
	//模拟h5调用native
	//document.getElementById('msg7').innerHTML="执行回调了";
	document.getElementById('calltoast').addEventListener('click', function(){
		//alert("1236345635")
		Vcredit.call(" showToast   "," elearning ",{content:"我是www---toast--2354",showTime:3000},function(data){
			console.log("===========native执行完成后的回调给h5的数据=============");
			//回调执行成功的话，会在参数1中写入reponsedata
			//document.getElementById('msg').innerHTML=JSON.stringify(data);
			document.getElementById('msg').innerHTML=data.age;
		});
	}, false);
	
});
</script>
<script src="src/w3.js?v=dd23477dgf"></script>
</body>
</html>

