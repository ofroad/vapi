!function(){function e(e){document.getElementById("msg2").innerHTML=e;var t="string"==typeof e?JSON.parse(e):e,r=null;if(t.callbackid){if(document.getElementById("msg5").innerHTML="此时是h5调用native且有回调的情况下去执行回调",!(r=n[t.callbackid]))return void(document.getElementById("msg4").innerHTML="没找到回调id对应的回调方法");document.getElementById("msg6").innerHTML="开始执行回调",r(t.reponsedata),delete n[t.callbackid]}else{document.getElementById("msg7").innerHTML="此时是native直接调用h5本地的函数";var l=i[t.funname];l&&l(t.data,function(e){})}}if(!window.vcredit){var t=1,n={},i={},r={getType:function(e){return Object.prototype.toString.call(e)},getCallbackId:function(){return"cbid_"+t+++"_"+Date.now()},getUrl:function(e){var t,n,i,r,l="vcredit://";return t=e.callbackId,n=e.method,i=e.source,r=e.data,l+=i+"/"+n+"/"+t+"?"+JSON.stringify(r)},createCall:function(e,t){if(e.callbackId="nocallback",t&&"function"==typeof t){var i=r.getCallbackId();n[i]=t,e.callbackId=i}e.data||(e.data={});var l=r.getUrl(e),c=document.createElement("iframe");c.style.width="1px",c.style.height="1px",c.style.display="none",c.src=l,document.documentElement.appendChild(c),setTimeout(function(){c.parentNode.removeChild(c),c=null},100)}},l={call:function(e,t,n,i){arguments.length,2===arguments.length&&"string"==typeof e&&"string"==typeof t&&0!==e.trim().length&&0!==t.trim().length&&r.createCall({method:e.trim(),source:t.trim()}),3===arguments.length&&("string"==typeof e&&"string"==typeof t&&"[object Object]"===r.getType(n)&&0!==e.trim().length&&0!==t.trim().length?r.createCall({method:e.trim(),source:t.trim(),data:n}):"string"==typeof e&&"string"==typeof t&&"[object Function]"===r.getType(n)&&0!==e.trim().length&&0!==t.trim().length&&r.createCall({method:e.trim(),source:t.trim()},n)),4===arguments.length&&"string"==typeof e&&"string"==typeof t&&"[object Object]"===r.getType(n)&&"[object Function]"===r.getType(i)&&0!==e.trim().length&&0!==t.trim().length&&r.createCall({method:e.trim(),source:t.trim(),data:n},i)},callh5:e,registerLocalFunction:function(e,t){i[e]=t},vhash:"0.1.1"};"function"==typeof define?define(function(){return l}):"undefined"!=typeof module&&null!==module?module.exports=l:window.Vcredit=l;var c=document.createEvent("HTMLEvents");c.initEvent("VcreditReady",!1,!1),c.bridge=l,document.dispatchEvent(c)}}();