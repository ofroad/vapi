!function(t,e){function a(t){var e="string"==typeof t?JSON.parse(t):t,a=null;if(e.callbackid){if(!(a=o[e.callbackid]))return;a(e.reponsedata),delete o[e.callbackid]}else{var n=r[e.funname];n&&n(e.data,function(t){})}}function n(t){var e=t.split("//")[1].split("?"),n=e[1],l=e[0].split("/"),c=(l[0],l[1],l[2]),i={};"{}"!==n&&(i.h5data=n),"nocallback"!==c&&(i.callbackid=c,i.reponsedata="我是执行native功能后执行回调的数据",a(i))}var l=t,c=e;if(!t.vcredit){var i=1,o={},r={},d="a"+Date.now(),u={getType:function(t){return Object.prototype.toString.call(t)},getCallbackId:function(){return"cbid_"+i+++"_"+Date.now()},getUrl:function(t){var e,a,n,l="vcredit://elearning/";return e=t.callbackId,a=t.method,n=t.data,l+=a+"/"+e+"?"+JSON.stringify(n)},createCall:function(t,e){if(t.callbackId="nocallback",e&&"function"==typeof e){var a=u.getCallbackId();o[a]=e,t.callbackId=a}t.data||(t.data={});var l=u.getUrl(t),i=c.createElement("iframe");i.style.width="1px",i.style.height="1px",i.style.display="none",i.src=l,c.documentElement.appendChild(i),setTimeout(function(){i.parentNode.removeChild(i),i=null},100),n(l)}};_vcredit={call:function(t,e,a){1===arguments.length&&"string"==typeof t&&u.createCall({method:t}),2===arguments.length&&("string"==typeof t&&"[object Object]"===u.getType(e)?u.createCall({method:t,data:e}):"string"==typeof t&&"[object Function]"===u.getType(e)&&(a=e,e=null,u.createCall({method:t},a))),3===arguments.length&&"string"==typeof t&&"[object Object]"===u.getType(e)&&"[object Function]"===u.getType(a)&&u.createCall({method:t,data:e},a)},callh5:a,registerLocalFunction:function(t,e){r[t]=e},vhash:d},l.vcredit=_vcredit}}(window,document);