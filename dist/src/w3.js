!function(t,e){"function"==typeof define?define([],e):"undefined"!=typeof module&&null!==module?module.exports=e():t.Vcredit=e()}(this,function(){if(!window.Vcredit){var t=1,e={},n={},i={getType:function(t){return Object.prototype.toString.call(t)},getCallbackId:function(){return"cbid_"+t+++"_"+Date.now()},getUrl:function(t){var e,n,i,r,l="vcredit://";return e=t.callbackId,n=t.method,i=t.source,r=t.data,l+=i+"/"+n+"/"+e+"?"+JSON.stringify(r)},createCall:function(t,n){if(t.callbackId="nocallback",n&&"function"==typeof n){var r=i.getCallbackId();e[r]=n,t.callbackId=r}t.data||(t.data={});var l=i.getUrl(t),c=document.createElement("iframe");c.style.width="1px",c.style.height="1px",c.style.display="none",c.src=l,document.documentElement.appendChild(c),setTimeout(function(){c.parentNode.removeChild(c),c=null},100)}},r={call:function(t,e,n,r){arguments.length,2===arguments.length&&"string"==typeof t&&"string"==typeof e&&0!==t.trim().length&&0!==e.trim().length&&i.createCall({method:t.trim(),source:e.trim()}),3===arguments.length&&("string"==typeof t&&"string"==typeof e&&"[object Object]"===i.getType(n)&&0!==t.trim().length&&0!==e.trim().length?i.createCall({method:t.trim(),source:e.trim(),data:n}):"string"==typeof t&&"string"==typeof e&&"[object Function]"===i.getType(n)&&0!==t.trim().length&&0!==e.trim().length&&i.createCall({method:t.trim(),source:e.trim()},n)),4===arguments.length&&"string"==typeof t&&"string"==typeof e&&"[object Object]"===i.getType(n)&&"[object Function]"===i.getType(r)&&0!==t.trim().length&&0!==e.trim().length&&i.createCall({method:t.trim(),source:e.trim(),data:n},r)},callh5:function(t){document.getElementById("msg2").innerHTML=t;var i="string"==typeof t?JSON.parse(t):t,r=null;if(i.callbackid){if(document.getElementById("msg5").innerHTML="此时是h5调用native且有回调的情况下去执行回调",!(r=e[i.callbackid]))return void(document.getElementById("msg4").innerHTML="没找到回调id对应的回调方法");document.getElementById("msg6").innerHTML="开始执行回调",r(i.reponsedata),delete e[i.callbackid]}else{document.getElementById("msg7").innerHTML="此时是native直接调用h5本地的函数";var l=n[i.funname];l&&l(i.data,function(t){})}},registerLocalFunction:function(t,e){n[t]=e},vhash:"0.1.1"},l=document.createEvent("HTMLEvents");return l.initEvent("VcreditReady",!1,!1),l.bridge=r,document.dispatchEvent(l),r}});