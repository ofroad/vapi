!function(){function e(e){var t="string"==typeof e?JSON.parse(e):e,n=null;if(t.callbackid){if(!(n=a[t.callbackid]))return;n(t.reponsedata),delete a[t.callbackid]}else{var c=l[t.funname];c&&c(t.data,function(e){})}}function t(t){var n=t.split("//")[1].split("?"),a=n[1],l=n[0].split("/"),c=(l[0],l[1],l[2]),i={};"{}"!==a&&(i.h5data=a),"nocallback"!==c&&(i.callbackid=c,i.reponsedata="我是执行native功能后执行回调的数据",e(i))}if(!window.vcredit){var n=1,a={},l={},c={getType:function(e){return Object.prototype.toString.call(e)},getCallbackId:function(){return"cbid_"+n+++"_"+Date.now()},getUrl:function(e){var t,n,a,l="vcredit://elearning/";return t=e.callbackId,n=e.method,a=e.data,l+=n+"/"+t+"?"+JSON.stringify(a)},createCall:function(e,n){if(e.callbackId="nocallback",n&&"function"==typeof n){var l=c.getCallbackId();a[l]=n,e.callbackId=l}e.data||(e.data={});var i=c.getUrl(e),o=document.createElement("iframe");o.style.width="1px",o.style.height="1px",o.style.display="none",o.src=i,document.documentElement.appendChild(o),setTimeout(function(){o.parentNode.removeChild(o),o=null},100),t(i)}},i={call:function(e,t,n){1===arguments.length&&"string"==typeof e&&c.createCall({method:e}),2===arguments.length&&("string"==typeof e&&"[object Object]"===c.getType(t)?c.createCall({method:e,data:t}):"string"==typeof e&&"[object Function]"===c.getType(t)&&(n=t,t=null,c.createCall({method:e},n))),3===arguments.length&&"string"==typeof e&&"[object Object]"===c.getType(t)&&"[object Function]"===c.getType(n)&&c.createCall({method:e,data:t},n)},callh5:e,registerLocalFunction:function(e,t){l[e]=t},vhash:"a"+Date.now()};"function"==typeof define?define(function(){return i}):"undefined"!=typeof module&&null!==module?module.exports=i:window.Vcredit=i;var o=document.createEvent("HTMLEvents");o.initEvent("VcreditReady",!1,!1),o.bridge=i,document.dispatchEvent(o)}}();