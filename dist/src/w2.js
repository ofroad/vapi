!function(){if(!window.Vcredit){var e=1,t={},n={},i={getType:function(e){return Object.prototype.toString.call(e)},getCallbackId:function(){return"cbid_"+e+++"_"+Date.now()},getUrl:function(e){var t,n,i,r,l="vcredit://";return t=e.callbackId,n=e.method,i=e.source,r=e.data,l+=i+"/"+n+"/"+t+"?"+JSON.stringify(r)},createCall:function(e,n){if(e.callbackId="nocallback",n&&"function"==typeof n){var r=i.getCallbackId();t[r]=n,e.callbackId=r}e.data||(e.data={});var l=i.getUrl(e),c=document.createElement("iframe");c.style.width="1px",c.style.height="1px",c.style.display="none",c.src=l,document.documentElement.appendChild(c),setTimeout(function(){c.parentNode.removeChild(c),c=null},100)}},r={call:function(e,t,n,r){arguments.length,2===arguments.length&&"string"==typeof e&&"string"==typeof t&&0!==e.trim().length&&0!==t.trim().length&&i.createCall({method:e.trim(),source:t.trim()}),3===arguments.length&&("string"==typeof e&&"string"==typeof t&&"[object Object]"===i.getType(n)&&0!==e.trim().length&&0!==t.trim().length?i.createCall({method:e.trim(),source:t.trim(),data:n}):"string"==typeof e&&"string"==typeof t&&"[object Function]"===i.getType(n)&&0!==e.trim().length&&0!==t.trim().length&&i.createCall({method:e.trim(),source:t.trim()},n)),4===arguments.length&&"string"==typeof e&&"string"==typeof t&&"[object Object]"===i.getType(n)&&"[object Function]"===i.getType(r)&&0!==e.trim().length&&0!==t.trim().length&&i.createCall({method:e.trim(),source:t.trim(),data:n},r)},callh5:function(e){document.getElementById("msg2").innerHTML=e;var i="string"==typeof e?JSON.parse(e):e,r=null;if(i.callbackid){if(document.getElementById("msg5").innerHTML="此时是h5调用native且有回调的情况下去执行回调",!(r=t[i.callbackid]))return void(document.getElementById("msg4").innerHTML="没找到回调id对应的回调方法");document.getElementById("msg6").innerHTML="开始执行回调",r(i.reponsedata),delete t[i.callbackid]}else{document.getElementById("msg7").innerHTML="此时是native直接调用h5本地的函数";var l=n[i.funname];l&&l(i.data,function(e){})}},registerLocalFunction:function(e,t){n[e]=t},vhash:"0.1.1"};"function"==typeof define?define(function(){return r}):"undefined"!=typeof module&&null!==module?module.exports=r:window.Vcredit=r;var l=document.createEvent("HTMLEvents");l.initEvent("VcreditReady",!1,!1),l.bridge=r,document.dispatchEvent(l)}}();