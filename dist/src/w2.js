!function(){function t(t){var e="string"==typeof t?JSON.parse(t):t,n=null;if(e.callbackid){if(!(n=i[e.callbackid]))return;n(e.reponsedata),delete i[e.callbackid]}else{var l=a[e.funname];l&&l(e.data,function(t){})}}function e(e){var n=e.split("//")[1].split("?"),i=n[1],a=n[0].split("/"),l=(a[0],a[1],a[2]),r={};"{}"!==i&&(r.h5data=i),"nocallback"!==l&&(r.callbackid=l,r.reponsedata="我是执行native功能后执行回调的数据",t(r))}if(!window.vcredit){var n=1,i={},a={},l={getType:function(t){return Object.prototype.toString.call(t)},getCallbackId:function(){return"cbid_"+n+++"_"+Date.now()},getUrl:function(t){var e,n,i,a,l="vcredit://";return e=t.callbackId,n=t.method,i=t.source,a=t.data,l+=i+"/"+n+"/"+e+"?"+JSON.stringify(a)},createCall:function(t,n){if(t.callbackId="nocallback",n&&"function"==typeof n){var a=l.getCallbackId();i[a]=n,t.callbackId=a}t.data||(t.data={});var r=l.getUrl(t),c=document.createElement("iframe");c.style.width="1px",c.style.height="1px",c.style.display="none",c.src=r,document.documentElement.appendChild(c),setTimeout(function(){c.parentNode.removeChild(c),c=null},100),e(r)}},r={call:function(t,e,n,i){arguments.length,2===arguments.length&&"string"==typeof t&&"string"==typeof e&&0!==t.trim().length&&0!==e.trim().length&&l.createCall({method:t.trim(),source:e.trim()}),3===arguments.length&&("string"==typeof t&&"string"==typeof e&&"[object Object]"===l.getType(n)&&0!==t.trim().length&&0!==e.trim().length?l.createCall({method:t.trim(),source:e.trim(),data:n}):"string"==typeof t&&"string"==typeof e&&"[object Function]"===l.getType(n)&&0!==t.trim().length&&0!==e.trim().length&&l.createCall({method:t.trim(),source:e.trim()},n)),4===arguments.length&&"string"==typeof t&&"string"==typeof e&&"[object Object]"===l.getType(n)&&"[object Function]"===l.getType(i)&&0!==t.trim().length&&0!==e.trim().length&&l.createCall({method:t.trim(),source:e.trim(),data:n},i)},callh5:t,registerLocalFunction:function(t,e){a[t]=e},vhash:"0.1_"+Date.now()};"function"==typeof define?define(function(){return r}):"undefined"!=typeof module&&null!==module?module.exports=r:window.Vcredit=r;var c=document.createEvent("HTMLEvents");c.initEvent("VcreditReady",!1,!1),c.bridge=r,document.dispatchEvent(c)}}();